!function(a){"use strict";function b(){function b(){var b=a.innerWidth/a.innerHeight;this.renderer=new THREE.WebGLRenderer({antialias:!0}),this.renderer.setSize(a.innerWidth,a.innerHeight),this.scene=new THREE.Scene,this.effect=new THREE.StereoEffect(this.renderer),this.camera=new THREE.PerspectiveCamera(90,b,.001,700),this.scene.add(this.camera),this.controls=new THREE.DeviceOrientationControls(this.camera,!0),this.orbitControls=new THREE.OrbitControls(this.camera,this.renderer.domElement),this.orbitControls.noZoom=!0,this.orbitControls.noPan=!0,this.orbitControls.autoRotate=!1,a.addEventListener("resize",this.resize.bind(this),!1),this._initControls=this.initControls.bind(this),a.addEventListener("deviceorientation",this._initControls,!1),setTimeout(this.resize.bind(this),0),this.animate=this.animate.bind(this),setTimeout(this.play.bind(this),0)}return b.prototype.initControls=function(b){b.alpha&&(a.removeEventListener("deviceorientation",this._initControls,!1),this.renderer.domElement.addEventListener("click",this.fullscreen.bind(this),!1),this.orbitControls.enabled=!1,this.controls.connect(),this.controls.update())},b.prototype.animate=function(){this._playing&&(requestAnimationFrame(this.animate),this.update(),this.render())},b.prototype.pause=function(){this._playing=!1},b.prototype.play=function(){this._playing||(this._playing=!0,this.animate())},b.prototype.update=function(){var b=this.width!==a.innerWidth||this.height!==a.innerHeight;b&&this.resize(),this.camera.updateProjectionMatrix(),this.controls.freeze===!1?this.controls.update():this.orbitControls.update()},b.prototype.render=function(){this.effect.render(this.scene,this.camera)},b.prototype.fullscreen=function(){this.renderer.domElement.requestFullscreen?this.renderer.domElement.requestFullscreen():this.renderer.domElement.msRequestFullscreen?this.renderer.domElement.msRequestFullscreen():this.renderer.domElement.mozRequestFullScreen?this.renderer.domElement.mozRequestFullScreen():this.renderer.domElement.webkitRequestFullscreen&&this.renderer.domElement.webkitRequestFullscreen()},b.prototype.resize=function(){this.width=a.innerWidth,this.height=a.innerHeight,this.camera.aspect=this.width/this.height,this.camera.updateProjectionMatrix(),this.renderer.setSize(this.width,this.height),this.effect.setSize(this.width,this.height)},b}"undefined"!=typeof THREE?console.error("Sensorama requires THREE.js to be defined: https://threejs.org"):"undefined"!=typeof Sensorama?console.warn("Sensorama is already defined"):a.Sensorama=b()}(window);